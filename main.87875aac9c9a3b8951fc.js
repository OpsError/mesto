(()=>{"use strict";class e{constructor(e){this._popupSelector=e,this._handleEscClose=this._handleEscClose.bind(this)}close(){this._popupSelector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popupSelector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}setEventListeners(){this._popupSelector.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup__close-icon"))&&this.close()}))}}class t extends e{constructor(e,t){super(e),this._handleSubmitForm=t,this._form=e.querySelector(".popup__form"),this._inputList=e.querySelectorAll(".popup__input")}_getInputValues(){return this._inputValueList={},this._inputList.forEach((e=>{this._inputValueList[e.name]=e.value})),this._inputValueList}setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._list=this._getInputValues(),this._handleSubmitForm({name:this._list.title,description:this._list.description})})),super.setEventListeners()}close(){super.close(),this._form.reset()}}class s{constructor(e,t){this._formElement=t,this._config=e,this._inputList=Array.from(t.querySelectorAll(this._config.inputSelector)),this._buttonElement=t.querySelector(this._config.submitButtonSelector)}_showInputError=(e,t)=>{const s=this._formElement.querySelector(`.${e.id}-error`);e.classList.add(this._config.inputErrorClass),s.textContent=t,s.classList.add(this._config.errorClass)};_hideInputError=e=>{const t=this._formElement.querySelector(`.${e.id}-error`);e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""};_checkInputValidity=e=>{e.validity.valid?this._hideInputError(e):(console.log(e.validationMessage),this._showInputError(e,e.validationMessage))};_hasInvalidInput=()=>this._inputList.some((e=>!e.validity.valid));_toggleButtonState=()=>{this._hasInvalidInput()?(this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1)};_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}blockButtonSave(e){this._buttonElement.classList.add("popup__save_inactive"),this._buttonElement.disabled=!0}enableValidation(){this._setEventListeners()}}class i{constructor(e,t,{openImage:s}){this._data=e,this._templateSelector=t,this._openImage=s,this._element=this._getTemplate(),this._elementPhoto=this._element.querySelector(".element__photo")}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".element").cloneNode(!0)}_setEventListeners(){const e=this._element.querySelector(".element__like"),t=this._element.querySelector(".element__trash"),s=this._element.querySelector(".element__like-icon");e.addEventListener("click",(()=>{s.classList.toggle("element__like-icon_active")})),t.addEventListener("click",(()=>{this._element.remove(),this._element=null})),this._elementPhoto.addEventListener("click",(()=>{this._openImage({link:this._data.description,name:this._data.name})}))}generateCard(){return this._elementPhoto.src=this._data.description,this._elementPhoto.alt=this._data.name,this._element.querySelector(".element__description").textContent=this._data.name,this._setEventListeners(),this._element}}const n=document.querySelector(".page"),o=n.querySelector(".form-edit"),r=n.querySelector(".form-add"),l=document.querySelector(".popup_image-full"),p=n.querySelector(".profile__edit-button"),c=n.querySelector(".profile__add-button"),a=n.querySelector(".profile__name"),_=n.querySelector(".profile__description"),u=n.querySelector(".profile__photo"),d=o.querySelector(".popup"),h=o.querySelector(".popup__input_type_name"),m=o.querySelector(".popup__input_type_description"),f=r.querySelector(".popup"),g=r.querySelector(".popup__input_type_title"),S=r.querySelector(".popup__input_type_link"),v=(l.querySelector(".popup"),{fieldsetSelector:".popup__form-set",inputSelector:".popup__input",submitButtonSelector:".popup__save",inactiveButtonClass:"popup__save_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active"}),y=new class extends e{constructor(e){super(e),this._image=this._popupSelector.querySelector(".popup__image"),this._figcaption=this._popupSelector.querySelector(".popup__figcaption")}open(e,t){this._image.src=t,this._image.alt=e,this._figcaption.textContent=e,super.open()}}(l);function E({link:e,name:t}){y.open(t,e)}function b(e){return new i(e,"#element",{openImage:E}).generateCard()}y.setEventListeners();const L=new s(v,r.querySelector(".popup__form")),q=new s(v,o.querySelector(".popup__form"));L.enableValidation(),q.enableValidation(),new class{constructor(e){this._url=e.baseUrl,this._headers=e.headers}_handleResponse(e){return e.ok?e.json():Promise.reject(new Error("Произошла ошибка"))}getInfo(){return fetch(`${this._url}/users/me`,{headers:this._headers}).then(this._handleResponse)}}({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{authorization:"11c262d9-4172-458c-924e-d3009da526d4","Content-type":"application/json"}}).getInfo().then((e=>{a.textContent=e.name,_.textContent=e.about,u.src=e.avatar}));const C=new t(f,(({name:e,description:t})=>{const s=b({name:e,description:t});x.addItem(s),C.close()}));C.setEventListeners();const I=new class{constructor({title:e,description:t}){this._title=e,this._description=t,this._profileName=document.querySelector(".profile__name"),this._profileDescription=document.querySelector(".profile__description")}getUserInfo(){return{name:this._title.textContent,description:this._description.textContent}}setUserInfo(e,t){this._profileName.textContent=e,this._profileDescription.textContent=t}}({title:a,description:_}),k=new t(d,(({name:e,description:t})=>{I.setUserInfo(e,t),k.close()}));k.setEventListeners();const x=new class{constructor({items:e,renderer:t},s){this._items=e,this._renderer=t,this._selector=document.querySelector(s)}addItem(e){this._selector.prepend(e)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}}({items:[{name:"Манджиро Сано",description:"https://i.pinimg.com/564x/a2/db/73/a2db73896e7d9785bc3ee3781c544fae.jpg"},{name:"Сатору Годзё",description:"https://i.pinimg.com/564x/bd/9e/0c/bd9e0c78a5af0557f6bfd5698d0747a2.jpg"},{name:"Фуши",description:"https://i.pinimg.com/564x/a8/62/a5/a862a55f111d580a2da65154d9760397.jpg"},{name:"Эрен Йегер",description:"https://i.pinimg.com/564x/f7/68/6d/f7686dfa04ad48af95497c9303b26471.jpg"},{name:"Юдзи Итадори",description:"https://i.pinimg.com/564x/09/ad/73/09ad73cc4ee3bb1905f9374ff79f5823.jpg"},{name:"Кёдзиро Ренгоку",description:"https://i.pinimg.com/564x/11/75/d1/1175d1bb70114306b7b31abeae11b69c.jpg"}],renderer:e=>{const t=b(e);x.addItem(t)}},".elements");x.renderItems(),c.addEventListener("click",(()=>{C.open(),g.value="",S.value="",L.blockButtonSave(f)})),p.addEventListener("click",(()=>{const e=I.getUserInfo();h.value=e.name,m.value=e.description,k.open()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVmLENBQ0VMLEtBQU0sZUFDTkssWUFBYSwyRUFFZixDQUNFTCxLQUFNLE9BQ05LLFlBQWEsMkVBRWYsQ0FDRUwsS0FBTSxhQUNOSyxZQUFhLDJFQUVmLENBQ0VMLEtBQU0sZUFDTkssWUFBYSwyRUFFZixDQUNFTCxLQUFNLGtCQUNOSyxZQUFhLDRFRWtDZjZHLFNBQVdqQyxJQUNQLE1BQU1xQixFQUFldEIsRUFBV0MsR0FDaENzQixFQUFLQyxRQUFRRixFQUFhLEdBRS9CLGFBQ0hDLEVBQUtpQixjQUdMdkQsRUFBVWpGLGlCQUFpQixTQUFTLEtBQ2hDcUgsRUFBYXZILE9BQ2IyRixFQUFheEUsTUFBUSxHQUNyQnlFLEVBQVl6RSxNQUFRLEdBQ3BCaUYsRUFBa0I1QyxnQkFBZ0JrQyxFQUFTLElBSS9DUixFQUFXaEYsaUJBQWlCLFNBQVMsS0FDakMsTUFBTXlJLEVBQWVoQixFQUFTSyxjQUM5QnhDLEVBQWNyRSxNQUFRd0gsRUFBYXpILEtBQ25DdUUsRUFBYXRFLE1BQVF3SCxFQUFhcEgsWUFDbEMyRyxFQUFpQmxJLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IgPSBwb3B1cDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBTZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLWljb24nKSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXAsIGhhbmRsZVN1Ym1pdEZvcm0pIHtcclxuICAgICAgICBzdXBlcihwb3B1cCk7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlU3VibWl0Rm9ybSA9IGhhbmRsZVN1Ym1pdEZvcm07XHJcblxyXG4gICAgICAgIHRoaXMuX2Zvcm0gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgICAgICB0aGlzLl9pbnB1dExpc3QgPSBwb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/RgdC+0LHQuNGA0LDQtdGCINC00LDQvdC90YvQtSDRgSDQv9C+0LvQtdC5XHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMgKCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0VmFsdWVMaXN0ID0ge307XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgdGhpcy5faW5wdXRWYWx1ZUxpc3RbaXRlbS5uYW1lXSA9IGl0ZW0udmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlTGlzdDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpc3QgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXRGb3JtKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMuX2xpc3QudGl0bGUsXHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5fbGlzdC5kZXNjcmlwdGlvbn0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yIChjb25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy/RgdC60YDRi9GC0Ywg0L7RiNC40LHQutGDINCy0LLQvtC00LBcclxuICAgIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvL9C/0YDQvtCy0LXRgNC60LAg0YTQvtGA0LzRiyDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMXHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7IC8v0LXRgdC70Lgg0LXRgdGC0Ywg0L7RiNC40LHQutCwXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy/Qv9GA0L7QstC10YDQutCwINC60LDQttC00L7Qs9C+INC/0L7Qu9GPINC90LAg0L7RiNC40LHQutGDINCyINC/0L7Qu9C1INCy0LLQvtC00LBcclxuICAgIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvL9GB0LTQtdC70LDRgtGMINC60L3QvtC/0LrRgyDQvdC10LDQutGC0LjQstC90L7QuSjQsNC60YLQuNCy0L3QvtC5KSDQv9GA0Lgg0L7RiNC40LHQutC1KNC/0YDQsNCy0LjQu9GM0L3QvtC8INCy0LLQvtC00LUpXHJcbiAgICBfdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvL9GD0YHRgtCw0L3QvtCy0LjRgtGMINGB0LvRg9GI0LDRgtC10LvQuCDQvdCwINC60LDQttC00YPRjiDRhNC+0YDQvNGDXHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgICAgIC8v0L/RgNC+0LLQtdGA0LjRgtGMINC60L3QvtC/0LrRgyDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDRhNC+0YDQvNGLXHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgXHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCk9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgICAgICAvL9C/0YDQvtCy0LXRgNGP0YLRjCDQutC90L7Qv9C60YMg0L/RgNC4INCy0LLQvtC00LUg0LrQsNC20LTQvtCz0L4g0YHQuNC80LLQvtC70LBcclxuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgLy/Qt9Cw0LHQu9C+0LrQuNGA0L7QstCw0YLRjCDQutC90L7Qv9C60YMg0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0L/QvtC/0LDQv9CwXHJcbiAgICBibG9ja0J1dHRvblNhdmUocG9wdXApIHtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3BvcHVwX19zYXZlX2luYWN0aXZlJyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICAgIFxyXG4gICAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIHtvcGVuSW1hZ2V9KSB7XHJcbiAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICAgICAgdGhpcy5fb3BlbkltYWdlID0gb3BlbkltYWdlO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRQaG90byA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3Bob3RvJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy/QstC+0LfQstGA0LDRidCw0LXRgiDRgdC10LvQtdC60YLQvtGAINGI0LDQsdC70L7QvdCwXHJcbiAgICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAgLmNvbnRlbnRcclxuICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXHJcbiAgICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvL9GD0YHRgtCw0L3QvtCy0YnQuNC6INGB0L7QsdGL0YLQuNC5XHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcclxuICAgICAgICBjb25zdCBidXR0b25UcmFzaCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3RyYXNoJyk7XHJcbiAgICAgICAgY29uc3QgaWNvbkJ1dHRvbkxpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWljb24nKTtcclxuXHJcbiAgICAgICAgLy/Qu9Cw0LnQulxyXG4gICAgICAgIGJ1dHRvbkxpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGljb25CdXR0b25MaWtlLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2UtaWNvbl9hY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/Rg9C00LDQu9C40YLRjFxyXG4gICAgICAgIGJ1dHRvblRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy/QvtGC0LrRgNGL0YLRjCDRhNC+0YLQvtCz0YDQsNGE0LjRjlxyXG4gICAgICAgIHRoaXMuX2VsZW1lbnRQaG90by5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5fb3BlbkltYWdlKHtsaW5rOiB0aGlzLl9kYXRhLmRlc2NyaXB0aW9uLCBuYW1lOiB0aGlzLl9kYXRhLm5hbWV9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvL9GD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINC60LDRgNGC0L7Rh9C60LUg0L3QsNC30LLQsNC90LjQtSwg0LrQsNGA0YLQuNC90LrRgyDQuCDQvtC/0LjRgdCw0L3QuNC1XHJcbiAgICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudFBob3RvLnNyYyA9IHRoaXMuX2RhdGEuZGVzY3JpcHRpb247XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudFBob3RvLmFsdCA9IHRoaXMuX2RhdGEubmFtZTtcclxuICAgICAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZXNjcmlwdGlvbicpLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5uYW1lO1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQnNCw0L3QtNC20LjRgNC+INCh0LDQvdC+JyxcclxuICAgICAgZGVzY3JpcHRpb246ICdodHRwczovL2kucGluaW1nLmNvbS81NjR4L2EyL2RiLzczL2EyZGI3Mzg5NmU3ZDk3ODViYzNlZTM3ODFjNTQ0ZmFlLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQodCw0YLQvtGA0YMg0JPQvtC00LfRkScsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnaHR0cHM6Ly9pLnBpbmltZy5jb20vNTY0eC9iZC85ZS8wYy9iZDllMGM3OGE1YWYwNTU3ZjZiZmQ1Njk4ZDA3NDdhMi5qcGcnXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBuYW1lOiAn0KTRg9GI0LgnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ2h0dHBzOi8vaS5waW5pbWcuY29tLzU2NHgvYTgvNjIvYTUvYTg2MmE1NWYxMTFkNTgwYTJkYTY1MTU0ZDk3NjAzOTcuanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9Ct0YDQtdC9INCZ0LXQs9C10YAnLFxyXG4gICAgICBkZXNjcmlwdGlvbjogJ2h0dHBzOi8vaS5waW5pbWcuY29tLzU2NHgvZjcvNjgvNmQvZjc2ODZkZmEwNGFkNDhhZjk1NDk3YzkzMDNiMjY0NzEuanBnJ1xyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgbmFtZTogJ9Cu0LTQt9C4INCY0YLQsNC00L7RgNC4JyxcclxuICAgICAgZGVzY3JpcHRpb246ICdodHRwczovL2kucGluaW1nLmNvbS81NjR4LzA5L2FkLzczLzA5YWQ3M2NjNGVlM2JiMTkwNWY5Mzc0ZmY3OWY1ODIzLmpwZydcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIG5hbWU6ICfQmtGR0LTQt9C40YDQviDQoNC10L3Qs9C+0LrRgycsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnaHR0cHM6Ly9pLnBpbmltZy5jb20vNTY0eC8xMS83NS9kMS8xMTc1ZDFiYjcwMTE0MzA2YjdiMzFhYmVhZTExYjY5Yy5qcGcnXHJcbiAgICB9XHJcbiAgXTtcclxuICBcclxuY29uc3QgcGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlJyk7XHJcbiAgXHJcbmV4cG9ydCBjb25zdCBmb3JtRWRpdFByb2ZpbGUgPSBwYWdlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWVkaXQnKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1BZGRDYXJkID0gcGFnZS5xdWVyeVNlbGVjdG9yKCcuZm9ybS1hZGQnKTtcclxuZXhwb3J0IGNvbnN0IGltYWdlRnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9pbWFnZS1mdWxsJyk7XHJcbiAgXHJcbmV4cG9ydCBjb25zdCBidXR0b25FZGl0ID0gcGFnZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZCA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gcGFnZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gcGFnZS5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVQaG90byA9IHBhZ2UucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3Bob3RvJyk7XHJcbiAgXHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXQgPSBmb3JtRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwJyk7XHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXRFZGl0ID0gZm9ybUVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBqb2JJbnB1dEVkaXQgPSBmb3JtRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX2Rlc2NyaXB0aW9uJyk7XHJcbiAgXHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZCA9IGZvcm1BZGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0QWRkID0gZm9ybUFkZENhcmQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX3RpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBzcmNJbnB1dEFkZCA9IGZvcm1BZGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9saW5rJyk7XHJcbiAgXHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlID0gaW1hZ2VGdWxsLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xyXG4gIFxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmaWVsZHNldFNlbGVjdG9yOiAnLnBvcHVwX19mb3JtLXNldCcsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zYXZlJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3NhdmVfaW5hY3RpdmUnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZSdcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1hZ2VPYmplY3QgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoaW1hZ2VGdWxsKTtcclxucG9wdXBJbWFnZU9iamVjdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy/QvtGC0LrRgNGL0YLRjCDQutCw0YDRgtC40L3QutGDXHJcbmV4cG9ydCBmdW5jdGlvbiBvcGVuSW1hZ2UgKHtsaW5rLCBuYW1lfSkge1xyXG4gIHBvcHVwSW1hZ2VPYmplY3Qub3BlbihuYW1lLCBsaW5rKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhcmQoZWxlbWVudCkge1xyXG4gIGNvbnN0IGVsZW1lbnRDYXJkID0gbmV3IENhcmQoZWxlbWVudCwgJyNlbGVtZW50Jywge29wZW5JbWFnZX0pO1xyXG4gIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGVsZW1lbnRDYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG5cclxuICByZXR1cm4gY2FyZFRlbXBsYXRlO1xyXG59IiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgICAgIHN1cGVyKHBvcHVwKTtcclxuXHJcbiAgICAgICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cFNlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgICAgICB0aGlzLl9maWdjYXB0aW9uID0gdGhpcy5fcG9wdXBTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2ZpZ2NhcHRpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fZmlnY2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcblxyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xyXG5cclxuaW1wb3J0IHsgaW5pdGlhbENhcmRzLCB2YWxpZGF0aW9uQ29uZmlnLCBmb3JtQWRkQ2FyZCwgZm9ybUVkaXRQcm9maWxlLCBwb3B1cEFkZCwgcG9wdXBFZGl0LCBidXR0b25BZGQsIGJ1dHRvbkVkaXQsIG5hbWVJbnB1dEFkZCwgbmFtZUlucHV0RWRpdCwgc3JjSW5wdXRBZGQsIGpvYklucHV0RWRpdCxcclxucHJvZmlsZU5hbWUsIHByb2ZpbGVEZXNjcmlwdGlvbiwgcHJvZmlsZVBob3RvfSBmcm9tICcuLi91dGlscy91dGlscy5qcyc7XHJcbmltcG9ydCB7IG9wZW5JbWFnZSwgY3JlYXRlQ2FyZCB9IGZyb20gJy4uL3V0aWxzL3V0aWxzLmpzJztcclxuXHJcbi8vINCS0LDQu9C40LTQsNGG0LjRj1xyXG5jb25zdCBmb3JtQWRkVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1BZGRDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpKTtcclxuY29uc3QgZm9ybUVkaXRWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpKTtcclxuZm9ybUFkZFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5mb3JtRWRpdFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgICBiYXNlVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02MCcsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogJzExYzI2MmQ5LTQxNzItNDU4Yy05MjRlLWQzMDA5ZGE1MjZkNCcsXHJcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8v0L/RgNC4INC30LDQs9GA0YPQt9C60LUg0YHRgtGA0LDQvdC40YbRiyDQuNC80Y8g0Lgg0L7Qv9C40YHQsNC90LjQtSDRgSDRgdC10YDQstC10YDQsFxyXG5hcGkuZ2V0SW5mbygpXHJcbiAgICAudGhlbiAoKHJlcykgPT4ge1xyXG4gICAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gcmVzLm5hbWU7XHJcbiAgICAgICAgcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcmVzLmFib3V0O1xyXG4gICAgICAgIHByb2ZpbGVQaG90by5zcmMgPSByZXMuYXZhdGFyO1xyXG4gICAgfSk7XHJcblxyXG5cclxuY29uc3QgcG9wdXBBZGRDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBBZGQsICh7bmFtZSwgZGVzY3JpcHRpb259KSA9PiB7XHJcbiAgICBjb25zdCBjYXJkVGVtcGxhdGUgPSBjcmVhdGVDYXJkKHtuYW1lLCBkZXNjcmlwdGlvbn0pO1xyXG4gICAgY2FyZC5hZGRJdGVtKGNhcmRUZW1wbGF0ZSk7XHJcblxyXG4gICAgcG9wdXBBZGRDYXJkLmNsb3NlKCk7XHJcbn0pO1xyXG5wb3B1cEFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGluZm9Vc2VyID0gbmV3IFVzZXJJbmZvKHtcclxuICAgIHRpdGxlOiBwcm9maWxlTmFtZSxcclxuICAgIGRlc2NyaXB0aW9uOiBwcm9maWxlRGVzY3JpcHRpb25cclxufSk7XHJcblxyXG5jb25zdCBwb3B1cEVkaXRQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0ocG9wdXBFZGl0LCAoe25hbWUsIGRlc2NyaXB0aW9ufSkgPT4ge1xyXG4gICAgaW5mb1VzZXIuc2V0VXNlckluZm8obmFtZSwgZGVzY3JpcHRpb24pO1xyXG4gICAgcG9wdXBFZGl0UHJvZmlsZS5jbG9zZSgpO1xyXG59KTtcclxuXHJcbnBvcHVwRWRpdFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG4vL9Ce0YLRgNC40YHQvtCy0LrQsCDQtNC10YTQvtC70YLQvdGL0YUg0LrQsNGA0YLQvtGH0LXQulxyXG5jb25zdCBjYXJkID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICAgIHJlbmRlcmVyOiAoZWxlbWVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGNyZWF0ZUNhcmQoZWxlbWVudCk7XHJcbiAgICAgICAgY2FyZC5hZGRJdGVtKGNhcmRUZW1wbGF0ZSk7XHJcbiAgICB9XHJcbn0sICcuZWxlbWVudHMnKTtcclxuY2FyZC5yZW5kZXJJdGVtcygpO1xyXG5cclxuLy/RgdC70YPRiNCw0YLQtdC70Ywg0LrQvdC+0L/QutC4INC00L7QsdCw0LLQuNGC0YxcclxuYnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgcG9wdXBBZGRDYXJkLm9wZW4oKTtcclxuICAgIG5hbWVJbnB1dEFkZC52YWx1ZSA9ICcnO1xyXG4gICAgc3JjSW5wdXRBZGQudmFsdWUgPSAnJztcclxuICAgIGZvcm1BZGRWYWxpZGF0aW9uLmJsb2NrQnV0dG9uU2F2ZShwb3B1cEFkZCk7XHJcbn0pO1xyXG5cclxuLy/RgdC70YPRiNCw0YLQtdC70Ywg0LrQvdC+0L/QutC4INGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y9cclxuYnV0dG9uRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGNvbnN0IGluZm9Gcm9tUGFnZSA9IGluZm9Vc2VyLmdldFVzZXJJbmZvKCk7XHJcbiAgICBuYW1lSW5wdXRFZGl0LnZhbHVlID0gaW5mb0Zyb21QYWdlLm5hbWU7XHJcbiAgICBqb2JJbnB1dEVkaXQudmFsdWUgPSBpbmZvRnJvbVBhZ2UuZGVzY3JpcHRpb247XHJcbiAgICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKTtcclxufSk7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuX3VybCA9IGNvbmZpZy5iYXNlVXJsO1xyXG4gICAgICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICBfaGFuZGxlUmVzcG9uc2UocmVzKSB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwJykpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbiAodGhpcy5faGFuZGxlUmVzcG9uc2UpO1xyXG4gICAgfVxyXG59IiwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7dGl0bGUsIGRlc2NyaXB0aW9ufSkge1xyXG4gICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuXHJcbiAgICAgICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19kZXNjcmlwdGlvbicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0YHQviDRgdGC0YDQsNC90LjRhtGLXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICBjb25zdCBmb3JtVGl0bGUgPSB0aGlzLl90aXRsZS50ZXh0Q29udGVudDtcclxuICAgICAgICBjb25zdCBmb3JtRGVzY3JpcHRpb24gPSB0aGlzLl9kZXNjcmlwdGlvbi50ZXh0Q29udGVudDtcclxuICAgICAgICByZXR1cm4ge25hbWU6IGZvcm1UaXRsZSwgZGVzY3JpcHRpb246IGZvcm1EZXNjcmlwdGlvbn07XHJcbiAgICB9XHJcblxyXG4gICAgLy/Rg9GB0YLQsNC90LDQstC70LjQstCw0LXRgiDQvdC+0LLQvtC1INC40LzRjyDQuCDQvtC/0LjRgdCw0L3QuNC1XHJcbiAgICBzZXRVc2VySW5mbyhuYW1lLCBkZXNjcmlwdGlvbikge1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9wcm9maWxlRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtIChlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0b3IucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJdGVtcygpIHtcclxuICAgICAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJQb3B1cCIsImNvbnN0cnVjdG9yIiwicG9wdXAiLCJ0aGlzIiwiX3BvcHVwU2VsZWN0b3IiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiY2xvc2UiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJkb2N1bWVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJvcGVuIiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Rm9ybSIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdEZvcm0iLCJfZm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9pbnB1dFZhbHVlTGlzdCIsImZvckVhY2giLCJpdGVtIiwibmFtZSIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJfbGlzdCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJyZXNldCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9jb25maWciLCJBcnJheSIsImZyb20iLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJlcnJvckNsYXNzIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJjb25zb2xlIiwibG9nIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImJsb2NrQnV0dG9uU2F2ZSIsImVuYWJsZVZhbGlkYXRpb24iLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJvcGVuSW1hZ2UiLCJfZGF0YSIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX29wZW5JbWFnZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2VsZW1lbnRQaG90byIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJidXR0b25MaWtlIiwiYnV0dG9uVHJhc2giLCJpY29uQnV0dG9uTGlrZSIsInRvZ2dsZSIsImxpbmsiLCJnZW5lcmF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJwYWdlIiwiZm9ybUVkaXRQcm9maWxlIiwiZm9ybUFkZENhcmQiLCJpbWFnZUZ1bGwiLCJidXR0b25FZGl0IiwiYnV0dG9uQWRkIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzY3JpcHRpb24iLCJwcm9maWxlUGhvdG8iLCJwb3B1cEVkaXQiLCJuYW1lSW5wdXRFZGl0Iiwiam9iSW5wdXRFZGl0IiwicG9wdXBBZGQiLCJuYW1lSW5wdXRBZGQiLCJzcmNJbnB1dEFkZCIsInZhbGlkYXRpb25Db25maWciLCJmaWVsZHNldFNlbGVjdG9yIiwicG9wdXBJbWFnZU9iamVjdCIsIl9pbWFnZSIsIl9maWdjYXB0aW9uIiwiY3JlYXRlQ2FyZCIsImVsZW1lbnQiLCJmb3JtQWRkVmFsaWRhdGlvbiIsImZvcm1FZGl0VmFsaWRhdGlvbiIsIl91cmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2hhbmRsZVJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwiZ2V0SW5mbyIsImZldGNoIiwidGhlbiIsImF1dGhvcml6YXRpb24iLCJhYm91dCIsImF2YXRhciIsInBvcHVwQWRkQ2FyZCIsImNhcmRUZW1wbGF0ZSIsImNhcmQiLCJhZGRJdGVtIiwiaW5mb1VzZXIiLCJfdGl0bGUiLCJfZGVzY3JpcHRpb24iLCJfcHJvZmlsZU5hbWUiLCJfcHJvZmlsZURlc2NyaXB0aW9uIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsInBvcHVwRWRpdFByb2ZpbGUiLCJpdGVtcyIsInJlbmRlcmVyIiwic2VsZWN0b3IiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfc2VsZWN0b3IiLCJwcmVwZW5kIiwicmVuZGVySXRlbXMiLCJpbmZvRnJvbVBhZ2UiXSwic291cmNlUm9vdCI6IiJ9